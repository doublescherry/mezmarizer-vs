<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>メズマライザーvs寝起きヤシの木</title>
</head>
<body>
<div id="videoViewCount"></div>
<div id="countdown"></div>

<script>
// YouTube APIキー（実際のAPIキーに置き換えてください）
const API_KEY = 'AIzaSyD3-stJddvEwqrXCg-1vmlGgUxR9U3JQqw';

// YouTube動画ID（再生回数を取得したい動画のIDに置き換えてください）
const VIDEO_ID = '19y8YTbvri8';

// 目標の日時（年、月（0-11）、日、時、分、秒）
const targetDate = new Date(2024, 4, 13, 12, 53, 0);

// 動画の統計情報を取得する関数
function fetchVideoStatistics() {
    fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${VIDEO_ID}&key=${API_KEY}`)
        .then(response => response.json())
        .then(data => {
            const viewCount = data.items[0].statistics.viewCount;
            document.getElementById('videoViewCount').innerText = `現在のメズマライザー再生回数 ${viewCount} `;
               document.getElementById('difference').innerText = `1000万回再生まであと ${difference >= 0 ? difference : '達成！'}`;
            updateCountdown();
        })
        .catch(error => console.error('再生回数を取得中にエラーが発生しました:', error));
}

// カウントダウンを更新する関数
function updateCountdown() {
    const now = new Date();
    const timeDifference = targetDate - now;
    
    if (timeDifference > 0) {
        const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);
        
        document.getElementById('countdown').innerText = `記録更新までの残り時間 ${days} 日 ${hours} 時間 ${minutes} 分 ${seconds} 秒`;
    } else {
        document.getElementById('countdown').innerText = '記録更新ならず...';
    }
}

// ページが読み込まれたときに動画の統計情報を取得する関数を呼び出す
// window.onload = fetchVideoStatistics;
document.addEventListener('DOMContentLoaded', function() {
    fetchVideoStatistics();
    setInterval(updateCountdown, 1000)
});
</script>
</body>
</html>
